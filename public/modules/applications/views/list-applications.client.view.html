<section data-ng-controller="ApplicationsController" data-ng-init="showApplications()" data-ng-show="(user.roles.indexOf('approver') > -1 || user.roles.indexOf('admin') > -1)">
    <div class="page-header">
        <div class="h1">
            <i class="fa fa-check-circle fa-1x"></i>
             Applications
        </div>
    </div>
    <div class="">
        <h3>Search by Name: <input type="text" data-ng-model="searchString" autofocus/></h3>
        <!-- Show all users -->
        <ul class="list-group">
            <li class="h3 list-group-item list-group-item-warning"><i class="fa fa-circle-o fa-fw"></i> Pending Applications <span class="badge">{{pendingApplications.length}}</span></li>
            <li class="list-group-item" data-ng-repeat="application in pendingApplications | filter: {applicant: {displayName: searchString}}">
                <span class=" h3">{{application.applicant.displayName}}</span>
                <br><br>
                <button class="btn btn-default btn-sm pull-right" data-ng-click="showUserDetails[$index] = !showUserDetails[$index]">
                    <i class="fa fa-ellipsis-v fa-fw fa-2x"></i> <span class="hidden-xs h4">Show Details</span>
                </button>
                <!--<button class="btn btn-success btn-sm pull-right" data-ng-click="approveApplication(application)">
                    <i class="fa fa-check fa-fw fa-2x"></i> <span class="hidden-xs h4">Approve Application</span>
                </button>
                <button class="btn btn-danger btn-sm pull-right" data-ng-click="denyApplication(application)">
                    <i class="fa fa-times fa-fw fa-2x"></i> <span class="hidden-xs h4">Deny Application</span>
                </button>-->
                <br><br>
                <div data-ng-show="showUserDetails[$index]" class="well well-sm h4">
                    <b>Email:</b> {{application.applicant.email}}<br><br>
                    <b>Phone:</b> {{application.applicant.phone}}<br><br>
                    <b>Age:</b> {{application.applicant.age}}<br><br>
                    <b>Locality:</b> {{application.applicant.locality}}<br><br>
                    <b>Language:</b> {{application.applicant.language}}<br><br>
                    <b>Occupation:</b> {{application.applicant.occupation}}<br><br>
                    <b>Service Areas:</b> {{application.applicant.serviceAreas}}<br><br>
                    <b>Applied:</b> {{application.applicant.consecrated | date}} <img data-ng-src="{{application.signature}}" height="35px"/><br>
                </div>
            </li>
        </ul>
        <br>
        <!-- Show all users -->
        <ul class="list-group">
            <li class="h3 list-group-item list-group-item-success"><i class="fa fa-check-circle-o fa-fw"></i> Approved <span class="badge">{{approvedApplications.length}}</span></li>
            <li class="list-group-item" data-ng-repeat="application in approvedApplications">
                <span class=" h3">{{application.applicant.displayName}}</span>
                <br><br>
                <button class="btn btn-default btn-sm pull-right" data-ng-click="showUserDetails[$index] = !showUserDetails[$index]">
                    <i class="fa fa-ellipsis-v fa-fw fa-2x"></i> <span class="hidden-xs h4">Show Details</span>
                </button>
                <!--<button class="btn btn-warning btn-sm pull-right" data-ng-click="resetApplication(application)">
                    <i class="fa fa-circle-o fa-fw fa-2x"></i> <span class="hidden-xs h4">Return to Pending</span>
                </button>-->
                <br><br>
                <div data-ng-show="showUserDetails[$index]" class="well well-sm h4">
                    <b>Email:</b> {{application.applicant.email}}<br><br>
                    <b>Phone:</b> {{application.applicant.phone}}<br><br>
                    <b>Age:</b> {{application.applicant.age}}<br><br>
                    <b>Locality:</b> {{application.applicant.locality}}<br><br>
                    <b>Language:</b> {{application.applicant.language}}<br><br>
                    <b>Occupation:</b> {{application.applicant.occupation}}<br><br>
                    <b>Service Areas:</b> {{application.applicant.serviceAreas}}<br><br>
                    <b>Applied:</b> {{application.applicant.consecrated | date}} <img data-ng-src="{{application.signature}}" height="35px"/><br>
                </div>
            </li>
        </ul>
        <br>
        <!-- Show all users -->
        <ul class="list-group">
            <li class="h3 list-group-item list-group-item-danger"><i class="fa fa-times-circle-o fa-fw"></i> Denied <span class="badge">{{deniedApplications.length}}</span></li>
            <li class="list-group-item" data-ng-repeat="application in deniedApplications">
                <span class=" h3">{{application.applicant.displayName}}</span>
                <br><br>
                <button class="btn btn-default btn-sm pull-right" data-ng-click="showUserDetails[$index] = !showUserDetails[$index]">
                    <i class="fa fa-ellipsis-v fa-fw fa-2x"></i> <span class="hidden-xs h4">Show Details</span>
                </button>
                <!--<button class="btn btn-warning btn-sm pull-right" data-ng-click="resetApplication(application)">
                    <i class="fa fa-circle-o fa-fw fa-2x"></i> <span class="hidden-xs h4">Return to Pending</span>
                </button>-->
                <br><br>
                <div data-ng-show="showUserDetails[$index]" class="well well-sm h4">
                    <b>Email:</b> {{application.applicant.email}}<br><br>
                    <b>Phone:</b> {{application.applicant.phone}}<br><br>
                    <b>Age:</b> {{application.applicant.age}}<br><br>
                    <b>Locality:</b> {{application.applicant.locality}}<br><br>
                    <b>Language:</b> {{application.applicant.language}}<br><br>
                    <b>Occupation:</b> {{application.applicant.occupation}}<br><br>
                    <b>Service Areas:</b> {{application.applicant.serviceAreas}}<br><br>
                    <b>Applied:</b> {{application.applicant.consecrated | date}} <img data-ng-src="{{application.signature}}" height="35px"/><br>
                </div>
            </li>
        </ul>
    </div>
</section>